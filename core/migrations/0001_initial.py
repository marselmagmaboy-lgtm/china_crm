# Generated by Django 5.2.8 on 2025-12-02 15:48

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Group',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã')),
                ('level', models.CharField(choices=[('HSK1', 'HSK 1 (–ù–∞—á–∞–ª—å–Ω—ã–π)'), ('HSK2', 'HSK 2'), ('HSK3', 'HSK 3 (–°—Ä–µ–¥–Ω–∏–π)'), ('HSK4', 'HSK 4'), ('HSK5', 'HSK 5 (–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)'), ('HSK6', 'HSK 6')], max_length=10, verbose_name='–£—Ä–æ–≤–µ–Ω—å HSK')),
                ('days_description', models.CharField(max_length=100, verbose_name='–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ')),
                ('start_date', models.DateField(default=django.utils.timezone.now, verbose_name='–î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ì—Ä—É–ø–ø–∞ –∞–∫—Ç–∏–≤–Ω–∞')),
            ],
            options={
                'verbose_name': '–ì—Ä—É–ø–ø–∞',
                'verbose_name_plural': '–ì—Ä—É–ø–ø—ã',
            },
        ),
        migrations.CreateModel(
            name='Lead',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=100, verbose_name='–ò–º—è / –ù–∏–∫–Ω–µ–π–º')),
                ('last_name', models.CharField(blank=True, max_length=100, verbose_name='–§–∞–º–∏–ª–∏—è')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω')),
                ('telegram_id', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Telegram ID')),
                ('telegram_username', models.CharField(blank=True, max_length=100, verbose_name='Telegram Username')),
                ('status', models.CharField(choices=[('new', 'üî• –ù–æ–≤—ã–π'), ('process', '‚è≥ –í –æ–±—Ä–∞–±–æ—Ç–∫–µ'), ('payment', 'üí∞ –ñ–¥–µ–º –æ–ø–ª–∞—Ç—É'), ('won', '‚úÖ –ó–∞–ø–∏—Å–∞–Ω –≤ –≥—Ä—É–ø–ø—É'), ('lost', '‚ùå –û—Ç–∫–∞–∑')], default='new', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('source', models.CharField(blank=True, max_length=100, verbose_name='–ò—Å—Ç–æ—á–Ω–∏–∫')),
                ('manager_comment', models.TextField(blank=True, verbose_name='–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')),
            ],
            options={
                'verbose_name': '–õ–∏–¥ (–ó–∞—è–≤–∫–∞)',
                'verbose_name_plural': '–õ–∏–¥—ã (–ó–∞—è–≤–∫–∏)',
            },
        ),
        migrations.CreateModel(
            name='Tariff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞')),
                ('price', models.DecimalField(decimal_places=0, max_digits=10, verbose_name='–¶–µ–Ω–∞')),
                ('lessons_count', models.IntegerField(verbose_name='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–∫–æ–≤')),
            ],
            options={
                'verbose_name': '–¢–∞—Ä–∏—Ñ',
                'verbose_name_plural': '–¢–∞—Ä–∏—Ñ—ã',
            },
        ),
        migrations.CreateModel(
            name='Teacher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=150, verbose_name='–§–ò–û –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è')),
                ('phone', models.CharField(max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω')),
                ('is_active', models.BooleanField(default=True, verbose_name='–†–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å')),
            ],
            options={
                'verbose_name': '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å',
                'verbose_name_plural': '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏',
            },
        ),
        migrations.CreateModel(
            name='ChatMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('text', models.TextField(verbose_name='–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è')),
                ('is_from_manager', models.BooleanField(default=False, verbose_name='–û—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞?')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('lead', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='messages', to='core.lead')),
            ],
            options={
                'verbose_name': '–°–æ–æ–±—â–µ–Ω–∏–µ —á–∞—Ç–∞',
                'verbose_name_plural': '–°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='Lesson',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(default=django.utils.timezone.now, verbose_name='–î–∞—Ç–∞ —É—Ä–æ–∫–∞')),
                ('topic', models.CharField(blank=True, max_length=200, verbose_name='–¢–µ–º–∞ —É—Ä–æ–∫–∞')),
                ('group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lessons', to='core.group', verbose_name='–ì—Ä—É–ø–ø–∞')),
            ],
            options={
                'verbose_name': '–ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π —É—Ä–æ–∫',
                'verbose_name_plural': '–ñ—É—Ä–Ω–∞–ª —É—Ä–æ–∫–æ–≤',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Student',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=150, verbose_name='–§–ò–û')),
                ('phone', models.CharField(max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω')),
                ('student_status', models.CharField(choices=[('active', 'üü¢ –ê–∫—Ç–∏–≤–µ–Ω'), ('paused', 'üü° –ó–∞–º–æ—Ä–æ–∑–∫–∞'), ('banned', 'üî¥ –ò—Å–∫–ª—é—á–µ–Ω (–ú–Ω–æ–≥–æ –ø—Ä–æ–≥—É–ª–æ–≤)')], default='active', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å —Å—Ç—É–¥–µ–Ω—Ç–∞')),
                ('balance', models.IntegerField(default=0, verbose_name='–û—Å—Ç–∞—Ç–æ–∫ —É—Ä–æ–∫–æ–≤')),
                ('total_paid', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–í—Å–µ–≥–æ –¥–µ–Ω–µ–≥ –ø—Ä–∏–Ω–µ—Å')),
                ('group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='students', to='core.group', verbose_name='–ì—Ä—É–ø–ø–∞')),
                ('lead', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.lead', verbose_name='–ò–∑ –∫–∞–∫–æ–≥–æ –ª–∏–¥–∞')),
            ],
            options={
                'verbose_name': '–°—Ç—É–¥–µ–Ω—Ç',
                'verbose_name_plural': '–°—Ç—É–¥–µ–Ω—Ç—ã',
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è')),
                ('amount', models.DecimalField(decimal_places=0, max_digits=10, verbose_name='–°—É–º–º–∞ –æ–ø–ª–∞—Ç—ã')),
                ('comment', models.TextField(blank=True, verbose_name='–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to='core.student', verbose_name='–°—Ç—É–¥–µ–Ω—Ç')),
                ('tariff', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.tariff', verbose_name='–ö—É–ø–ª–µ–Ω–Ω—ã–π —Ç–∞—Ä–∏—Ñ')),
            ],
            options={
                'verbose_name': '–ü–ª–∞—Ç–µ–∂',
                'verbose_name_plural': '–ò—Å—Ç–æ—Ä–∏—è –æ–ø–ª–∞—Ç',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Task',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å?')),
                ('description', models.TextField(blank=True, verbose_name='–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ')),
                ('deadline', models.DateTimeField(blank=True, null=True, verbose_name='–ö—Ä–∞–π–Ω–∏–π —Å—Ä–æ–∫')),
                ('priority', models.CharField(choices=[('low', 'üü¢ –ù–∏–∑–∫–∏–π'), ('medium', 'üü° –°—Ä–µ–¥–Ω–∏–π'), ('high', 'üî¥ –í—ã—Å–æ–∫–∏–π (–°—Ä–æ—á–Ω–æ!)')], default='medium', max_length=10, verbose_name='–í–∞–∂–Ω–æ—Å—Ç—å')),
                ('status', models.CharField(choices=[('new', '–ù–æ–≤–∞—è'), ('in_progress', '–í —Ä–∞–±–æ—Ç–µ'), ('done', '‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ')], default='new', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('assigned_to', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tasks', to=settings.AUTH_USER_MODEL, verbose_name='–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–ó–∞–¥–∞—á–∞',
                'verbose_name_plural': '–ó–∞–¥–∞—á–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º',
                'ordering': ['status', '-priority'],
            },
        ),
        migrations.AddField(
            model_name='group',
            name='teacher',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.teacher', verbose_name='–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å'),
        ),
        migrations.CreateModel(
            name='Attendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('present', '‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª (-1 —É—Ä–æ–∫)'), ('absent', '‚ùå –ü—Ä–æ–≥—É–ª (-1 —É—Ä–æ–∫)'), ('excused', 'üè• –£–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ (0 —É—Ä–æ–∫–æ–≤)')], default='present', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('lesson', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance_records', to='core.lesson')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='core.student', verbose_name='–°—Ç—É–¥–µ–Ω—Ç')),
            ],
            options={
                'verbose_name': '–û—Ç–º–µ—Ç–∫–∞',
                'verbose_name_plural': '–û—Ç–º–µ—Ç–∫–∏',
                'unique_together': {('lesson', 'student')},
            },
        ),
    ]
